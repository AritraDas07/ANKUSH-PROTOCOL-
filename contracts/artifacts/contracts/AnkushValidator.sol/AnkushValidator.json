{
  "_format": "hh-sol-artifact-1",
  "contractName": "AnkushValidator",
  "sourceName": "contracts/AnkushValidator.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ECDSAInvalidSignature",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "length",
          "type": "uint256"
        }
      ],
      "name": "ECDSAInvalidSignatureLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "ECDSAInvalidSignatureS",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "aiAgent",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "vendor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        },
        {
          "internalType": "uint48",
          "name": "expiry",
          "type": "uint48"
        }
      ],
      "name": "enableSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "policies",
      "outputs": [
        {
          "internalType": "address",
          "name": "allowedVendor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "valueLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint48",
          "name": "validUntil",
          "type": "uint48"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "bytes",
              "name": "initCode",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "callData",
              "type": "bytes"
            },
            {
              "internalType": "bytes32",
              "name": "accountGasLimits",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "preVerificationGas",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "gasFees",
              "type": "bytes32"
            },
            {
              "internalType": "bytes",
              "name": "paymasterAndData",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct PackedUserOperation",
          "name": "userOp",
          "type": "tuple"
        },
        {
          "internalType": "bytes32",
          "name": "userOpHash",
          "type": "bytes32"
        }
      ],
      "name": "validateUserOp",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b50610c328061001f6000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063187a7b8f146100465780632ecfd281146100785780639700320314610094575b600080fd5b610060600480360381019061005b9190610852565b6100c4565b60405161006f939291906108db565b60405180910390f35b610092600480360381019061008d919061096a565b61012d565b005b6100ae60048036038101906100a99190610a2c565b610266565b6040516100bb9190610a88565b60405180910390f35b6000602052816000526040600020602052806000526040600020600091509150508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020160009054906101000a900465ffffffffffff16905083565b60405180606001604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018265ffffffffffff168152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555090505050505050565b6000806102d78480610100019061027d9190610ab2565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506102c9856104d4565b61050a90919063ffffffff16565b905060008060008660000160208101906102f19190610b15565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060600160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900465ffffffffffff1665ffffffffffff1665ffffffffffff16815250509050806040015165ffffffffffff16421115610420576001925050506104ce565b60448580606001906104329190610ab2565b9050106104c75760008036600088806060019061044f9190610ab2565b915091506004820135935060248201359250846000015173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16146104a757600196505050505050506104ce565b84602001518311156104c257600196505050505050506104ce565b505050505b6000925050505b92915050565b60007f19457468657265756d205369676e6564204d6573736167653a0a33320000000060005281601c52603c6000209050919050565b60008060008061051a8686610536565b92509250925061052a8282610592565b82935050505092915050565b6000806000604184510361057b5760008060006020870151925060408701519150606087015160001a905061056d888285856106f6565b95509550955050505061058b565b60006002855160001b9250925092505b9250925092565b600060038111156105a6576105a5610b42565b5b8260038111156105b9576105b8610b42565b5b03156106f257600160038111156105d3576105d2610b42565b5b8260038111156105e6576105e5610b42565b5b0361061d576040517ff645eedf00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6002600381111561063157610630610b42565b5b82600381111561064457610643610b42565b5b03610689578060001c6040517ffce698f70000000000000000000000000000000000000000000000000000000081526004016106809190610a88565b60405180910390fd5b60038081111561069c5761069b610b42565b5b8260038111156106af576106ae610b42565b5b036106f157806040517fd78bce0c0000000000000000000000000000000000000000000000000000000081526004016106e89190610b80565b60405180910390fd5b5b5050565b60008060007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08460001c11156107365760006003859250925092506107e0565b60006001888888886040516000815260200160405260405161075b9493929190610bb7565b6020604051602081039080840390855afa15801561077d573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036107d157600060016000801b935093509350506107e0565b8060008060001b935093509350505b9450945094915050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061081f826107f4565b9050919050565b61082f81610814565b811461083a57600080fd5b50565b60008135905061084c81610826565b92915050565b60008060408385031215610869576108686107ea565b5b60006108778582860161083d565b92505060206108888582860161083d565b9150509250929050565b61089b81610814565b82525050565b6000819050919050565b6108b4816108a1565b82525050565b600065ffffffffffff82169050919050565b6108d5816108ba565b82525050565b60006060820190506108f06000830186610892565b6108fd60208301856108ab565b61090a60408301846108cc565b949350505050565b61091b816108a1565b811461092657600080fd5b50565b60008135905061093881610912565b92915050565b610947816108ba565b811461095257600080fd5b50565b6000813590506109648161093e565b92915050565b60008060008060808587031215610984576109836107ea565b5b60006109928782880161083d565b94505060206109a38782880161083d565b93505060406109b487828801610929565b92505060606109c587828801610955565b91505092959194509250565b600080fd5b600061012082840312156109ed576109ec6109d1565b5b81905092915050565b6000819050919050565b610a09816109f6565b8114610a1457600080fd5b50565b600081359050610a2681610a00565b92915050565b60008060408385031215610a4357610a426107ea565b5b600083013567ffffffffffffffff811115610a6157610a606107ef565b5b610a6d858286016109d6565b9250506020610a7e85828601610a17565b9150509250929050565b6000602082019050610a9d60008301846108ab565b92915050565b600080fd5b600080fd5b600080fd5b60008083356001602003843603038112610acf57610ace610aa3565b5b80840192508235915067ffffffffffffffff821115610af157610af0610aa8565b5b602083019250600182023603831315610b0d57610b0c610aad565b5b509250929050565b600060208284031215610b2b57610b2a6107ea565b5b6000610b398482850161083d565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b610b7a816109f6565b82525050565b6000602082019050610b956000830184610b71565b92915050565b600060ff82169050919050565b610bb181610b9b565b82525050565b6000608082019050610bcc6000830187610b71565b610bd96020830186610ba8565b610be66040830185610b71565b610bf36060830184610b71565b9594505050505056fea264697066735822122019a563720ea9b7bcc05e37df6e36a9ec552600b23a4378e2a6ada299c4c6843a64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063187a7b8f146100465780632ecfd281146100785780639700320314610094575b600080fd5b610060600480360381019061005b9190610852565b6100c4565b60405161006f939291906108db565b60405180910390f35b610092600480360381019061008d919061096a565b61012d565b005b6100ae60048036038101906100a99190610a2c565b610266565b6040516100bb9190610a88565b60405180910390f35b6000602052816000526040600020602052806000526040600020600091509150508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020160009054906101000a900465ffffffffffff16905083565b60405180606001604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018265ffffffffffff168152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555090505050505050565b6000806102d78480610100019061027d9190610ab2565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506102c9856104d4565b61050a90919063ffffffff16565b905060008060008660000160208101906102f19190610b15565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060600160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900465ffffffffffff1665ffffffffffff1665ffffffffffff16815250509050806040015165ffffffffffff16421115610420576001925050506104ce565b60448580606001906104329190610ab2565b9050106104c75760008036600088806060019061044f9190610ab2565b915091506004820135935060248201359250846000015173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16146104a757600196505050505050506104ce565b84602001518311156104c257600196505050505050506104ce565b505050505b6000925050505b92915050565b60007f19457468657265756d205369676e6564204d6573736167653a0a33320000000060005281601c52603c6000209050919050565b60008060008061051a8686610536565b92509250925061052a8282610592565b82935050505092915050565b6000806000604184510361057b5760008060006020870151925060408701519150606087015160001a905061056d888285856106f6565b95509550955050505061058b565b60006002855160001b9250925092505b9250925092565b600060038111156105a6576105a5610b42565b5b8260038111156105b9576105b8610b42565b5b03156106f257600160038111156105d3576105d2610b42565b5b8260038111156105e6576105e5610b42565b5b0361061d576040517ff645eedf00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6002600381111561063157610630610b42565b5b82600381111561064457610643610b42565b5b03610689578060001c6040517ffce698f70000000000000000000000000000000000000000000000000000000081526004016106809190610a88565b60405180910390fd5b60038081111561069c5761069b610b42565b5b8260038111156106af576106ae610b42565b5b036106f157806040517fd78bce0c0000000000000000000000000000000000000000000000000000000081526004016106e89190610b80565b60405180910390fd5b5b5050565b60008060007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08460001c11156107365760006003859250925092506107e0565b60006001888888886040516000815260200160405260405161075b9493929190610bb7565b6020604051602081039080840390855afa15801561077d573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036107d157600060016000801b935093509350506107e0565b8060008060001b935093509350505b9450945094915050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061081f826107f4565b9050919050565b61082f81610814565b811461083a57600080fd5b50565b60008135905061084c81610826565b92915050565b60008060408385031215610869576108686107ea565b5b60006108778582860161083d565b92505060206108888582860161083d565b9150509250929050565b61089b81610814565b82525050565b6000819050919050565b6108b4816108a1565b82525050565b600065ffffffffffff82169050919050565b6108d5816108ba565b82525050565b60006060820190506108f06000830186610892565b6108fd60208301856108ab565b61090a60408301846108cc565b949350505050565b61091b816108a1565b811461092657600080fd5b50565b60008135905061093881610912565b92915050565b610947816108ba565b811461095257600080fd5b50565b6000813590506109648161093e565b92915050565b60008060008060808587031215610984576109836107ea565b5b60006109928782880161083d565b94505060206109a38782880161083d565b93505060406109b487828801610929565b92505060606109c587828801610955565b91505092959194509250565b600080fd5b600061012082840312156109ed576109ec6109d1565b5b81905092915050565b6000819050919050565b610a09816109f6565b8114610a1457600080fd5b50565b600081359050610a2681610a00565b92915050565b60008060408385031215610a4357610a426107ea565b5b600083013567ffffffffffffffff811115610a6157610a606107ef565b5b610a6d858286016109d6565b9250506020610a7e85828601610a17565b9150509250929050565b6000602082019050610a9d60008301846108ab565b92915050565b600080fd5b600080fd5b600080fd5b60008083356001602003843603038112610acf57610ace610aa3565b5b80840192508235915067ffffffffffffffff821115610af157610af0610aa8565b5b602083019250600182023603831315610b0d57610b0c610aad565b5b509250929050565b600060208284031215610b2b57610b2a6107ea565b5b6000610b398482850161083d565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b610b7a816109f6565b82525050565b6000602082019050610b956000830184610b71565b92915050565b600060ff82169050919050565b610bb181610b9b565b82525050565b6000608082019050610bcc6000830187610b71565b610bd96020830186610ba8565b610be66040830185610b71565b610bf36060830184610b71565b9594505050505056fea264697066735822122019a563720ea9b7bcc05e37df6e36a9ec552600b23a4378e2a6ada299c4c6843a64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
